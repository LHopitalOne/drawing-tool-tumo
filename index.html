<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ստացիր նկարիդ հասցեն - TUMO | AI + Art</title>
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/modal.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>
<body>
    <!-- Setup Modal -->
    <div id="setupModal" class="modal">
        <div class="modal-content">
            <h2>Կարգավորումներ</h2>
            <form id="setupForm" novalidate>
                <div class="form-group">
                    <label for="canvasWidth">Կանվասի լայնությունը:</label>
                    <input type="number" id="canvasWidth" value="400" min="1" max="50000" required>
                </div>
                <div class="form-group">
                    <label for="canvasHeight">Կանվասի բարձրությունը:</label>
                    <input type="number" id="canvasHeight" value="400" min="1" max="50000" required>
                </div>
                <div class="form-group">
                    <label for="backgroundColor">Գույնը:</label>
                    <input type="color" id="backgroundColor" value="#000000">
                </div>
                <div class="form-group">
                    <label>Ի՞նչ անել:</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="mode" value="draw" checked>
                            <span>Նկարել</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="mode" value="upload">
                            <span>Ներմուծել նկար</span>
                        </label>
                    </div>
                </div>
                <button type="submit" class="submit-btn">Սկսել</button>
            </form>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal error" role="dialog" aria-modal="true" aria-labelledby="errorTitle">
        <div class="modal-content">
            <h2 id="errorTitle">Սխալ</h2>
            <p id="errorMessage" style="margin-bottom:16px;color:#333;"></p>
            <button id="errorCloseBtn" class="submit-btn" type="button">Լավ</button>
        </div>
    </div>

    <div class="container">
        <div class="drawing-area">
            <canvas id="drawingCanvas" width="600" height="600"></canvas>
        </div>
        <div class="controls">
            <button id="clearBtn" class="control-button">
                <span class="icon" aria-hidden="true">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 6H15M8 9V13M12 9V13M7 6V4.5C7 3.67157 7.67157 3 8.5 3H11.5C12.3284 3 13 3.67157 13 4.5V6M4 6H16V16.5C16 17.3284 15.3284 18 14.5 18H5.5C4.67157 18 4 17.3284 4 16.5V6Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
            </button>
            <button id="saveBtn" class="control-button">
                <span class="icon" aria-hidden="true">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 3V13M10 13L6 9M10 13L14 9M4 17H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
            </button>
            <button id="uploadBtn" class="control-button">
                <span class="icon" aria-hidden="true">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 19V7M10 7L6 11M10 7L14 11M4 19H16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
            </button>
            <input type="file" id="fileInput" accept="image/*" style="display:none" />
        </div>
    </div>
  <!-- Floating Settings Button -->
  <button id="fabToggle" class="fab" type="button" aria-label="Brush settings" aria-expanded="false">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8zm9 4a7.94 7.94 0 0 0-.34-2.29l2.11-1.65-2-3.46-2.49 1a8.1 8.1 0 0 0-3.96-2.29l-.38-2.64H9.06l-.38 2.64A8.1 8.1 0 0 0 4.72 5.3l-2.49-1-2 3.46 2.11 1.65A7.94 7.94 0 0 0 2 12c0 .79.12 1.55.34 2.29L.23 15.94l2 3.46 2.49-1c1.15.98 2.49 1.73 3.96 2.29l.38 2.64h4.12l.38-2.64a8.1 8.1 0 0 0 3.96-2.29l2.49 1 2-3.46-2.11-1.65c.22-.74.34-1.5.34-2.29z" fill="currentColor"/>
      </svg>
  </button>

  <!-- Settings Panel -->
  <div id="settingsPanel" class="settings-panel" role="dialog" aria-modal="false" hidden>
      <div class="settings-header">
          <button id="closeSettingsBtn" class="settings-close" type="button" aria-label="Փակել">×</button>
      </div>
      <div class="settings-body">
          <div class="brush-group" role="toolbar" aria-label="Brushes">
              <button class="brush-btn selected" data-brush="soft" type="button" aria-label="Soft brush">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><circle cx="12" cy="12" r="8"/></svg>
              </button>
              <button class="brush-btn" data-brush="pen" type="button" aria-label="Pen">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M3 21l3-1 11-11-2-2L4 18l-1 3z"/><path d="M14 7l3 3"/></svg>
              </button>
              <button class="brush-btn" data-brush="air" type="button" aria-label="Airbrush">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><circle cx="7" cy="12" r="1"/><circle cx="12" cy="10" r="1.5"/><circle cx="10" cy="15" r="0.8"/><circle cx="15" cy="13" r="1.2"/><circle cx="17" cy="9" r="0.9"/></svg>
              </button>
              <button class="brush-btn" data-brush="fountain" type="button" aria-label="Fountain pen">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 2l4 6-4 14-4-14 4-6z"/></svg>
              </button>
              <button class="brush-btn" data-brush="pencil" type="button" aria-label="Pencil">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M3 21l3-1 11-11-3-3L3 17l0 4z"/></svg>
              </button>
              <button class="brush-btn" data-brush="eraser" type="button" aria-label="Eraser">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M16 3l5 5-9 9H7L2 12l9-9h5zM7 17h13v2H7z"/></svg>
              </button>
          </div>
          <div class="form-group">
              <input type="color" id="brushColorInput" value="#ffffff" aria-label="Brush color" />
          </div>
          <div class="form-group">
              <input type="range" id="brushSizeInput" min="1" max="200" value="10" step="1" aria-label="Brush size" />
          </div>
           <div class="form-group">
               <label for="symmetryAxesInput" class="settings-label">Symmetry axes (0 = off)</label>
               <input type="range" id="symmetryAxesInput" min="0" max="24" value="0" step="1" aria-label="Symmetry axes" />
           </div>
          <div class="form-group">
              <label for="canvasBackgroundColor" class="settings-label">Canvas Background:</label>
              <input type="color" id="canvasBackgroundColor" value="#000000" aria-label="Canvas background color" />
          </div>
          <div class="form-group">
              <button id="fitViewBtn" class="icon-btn" type="button" aria-label="Fit to screen">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                      <path d="M3 9V5h4M21 9V5h-4M3 15v4h4M21 15v4h-4"/>
                  </svg>
              </button>
          </div>
      </div>
  </div>

  <svg style="display:none;">
    <filter id="displacementFilter">
      <feTurbulence type="turbulence" baseFrequency="0.0" />
      <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="300" />
    </filter>
  </svg>

  <script type="module" src="js/main.js"></script>
</body>
</html> 